The first basis function is the constant \(f_{1}(x)=1\). The next two are functions of \(x_{1}\), the area of the house,

\[f_{2}(x)=x_{1},\qquad f_{3}(x)=\max\,\{x_{1}-1.5,0\}.\]

In words, \(f_{2}(x)\) is the area of the house, and \(f_{3}(x)\) is the amount by which the area exceeds 1.5 (_i.e._, 1500 square feet). The first three basis functions contribute to the price prediction model a piecewise-linear function of the house area,

\[\theta_{1}f_{1}(x)+\theta_{2}f_{2}(x)+\theta_{3}f_{3}(x)=\left\{\begin{array}[ ]{ll}\theta_{1}+\theta_{2}x_{1}&x_{1}\leq 1.5\\ \theta_{1}+(\theta_{2}+\theta_{3})x_{1}&x_{1}>1.5,\end{array}\right.\]

with one knot at 1.5. This is an example of a generalized additive model described on page 271.

The basis function \(f_{4}(x)\) is equal to the number of bedrooms \(x_{2}\). The basis function \(f_{5}(x)\) is equal to \(x_{3}\), _i.e._, one if the property is a condominium, and zero otherwise. In these cases we simply using the original feature value, with no transformation or modification.

The last three basis functions are again Boolean, and indicate or encode the location of the house. We partition the 62 different ZIP codes present in the data set into four groups, corresponding to different areas around the center of Sacramento, as shown in table 13.4. The basis functions \(f_{6}\), \(f_{7}\), and \(f_{8}\) give a one-hot encoding of the four groups of ZIP codes, as described on page 270.

The resulting model.The coefficients in the least squares fit are

\[\theta_{1}=115.62,\quad\theta_{2}=175.41,\quad\theta_{3}=-42.75,\quad\theta_{4 }=-17.88,\]

\[\theta_{5}=-19.05,\quad\theta_{6}=-100.91,\quad\theta_{7}=-108.79,\quad\theta_{ 8}=-24.77.\]

\begin{table}
\begin{tabular}{l l l l l} \hline \hline \(x_{4}\) & \(f_{6}(x)\) & \(f_{7}(x)\) & \(f_{8}(x)\) \\ \hline
95811, 95814, 95816, 95817, 95818, 95819 & 0 & 0 & 0 \\
95608, 95610, 95621, 95626, 95628, 95655, & 1 & 0 & 0 \\
95660, 95662, 95670, 95673, 95683, 95691, & & & \\
95742, 95815, 95821, 95825, 95827, 95833, & & & \\
95834, 95835, 95838, 95841, 95842, 95843, & & & \\
95864 & 95624, 95632, 95690, 95693, 95757, 95758, & 0 & 1 & 0 \\
95820, 95822, 95823, 95824, 95826, 95828, & & & \\
95829, 95831, 95832 & & & & \\
95603, 95614, 95630, 95635, 95648, 95650, & 0 & 0 & 1 \\
95661, 95663, 95677, 95678, 95682, 95722, & & & \\
95746, 95747, 95762, 95765 & & & \\ \hline \hline \end{tabular}
\end{table}
Table 13.4: Definition of basis functions \(f_{6}\), \(f_{7}\), \(f_{8}\) as functions of \(x_{4}\) (5-digit ZIP code).

 